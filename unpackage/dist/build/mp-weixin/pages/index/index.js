(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"02d0":function(t,e,n){},"28c0":function(t,e,n){"use strict";var i=n("02d0"),o=n.n(i);o.a},3323:function(t,e,n){"use strict";(function(t){var e=n("4ea4");n("0fcb"),n("5c17");e(n("66fd"));var i=e(n("b33a"));wx.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("543d")["createPage"])},4312:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"4a31"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"fefa"))},uSwiper:function(){return n.e("uview-ui/components/u-swiper/u-swiper").then(n.bind(null,"0081"))},uGrid:function(){return n.e("uview-ui/components/u-grid/u-grid").then(n.bind(null,"b80a"))},uGridItem:function(){return n.e("uview-ui/components/u-grid-item/u-grid-item").then(n.bind(null,"b071"))},uBadge:function(){return n.e("uview-ui/components/u-badge/u-badge").then(n.bind(null,"0526"))},uCard:function(){return n.e("uview-ui/components/u-card/u-card").then(n.bind(null,"4705"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"cae0"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"caac"))},uGap:function(){return n.e("uview-ui/components/u-gap/u-gap").then(n.bind(null,"4c8c"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"b3a8"))},uTag:function(){return n.e("uview-ui/components/u-tag/u-tag").then(n.bind(null,"7370"))},uTabbar:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabbar/u-tabbar")]).then(n.bind(null,"e210"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.gridList,(function(e,n){var i=t.__get_orig(e),o=t.$permission([e.permission])||!e.permission;return{$orig:i,m0:o}}))),i=t.zoneName&&t.noticeList.length>0?t.__map(t.noticeList,(function(e,n){var i=t.__get_orig(e),o=t.noticeColor(n);return{$orig:i,m1:o}})):null;t.$mp.data=Object.assign({},{$root:{l0:n,l1:i}})},u=[]},"71bf":function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("2630")),u={data:function(){return{tabbar:o.default,zoneId:t.getStorageSync("userInfo").zoneId,zoneName:"",backgroundImage:"",title:"Hello",list:[{imagePath:"http://yuanzhoulvwego.com/wp-content/uploads/static/banner1.png"}],bannerList:[],typeList:[],noticeList:[],merchantsList:[],moreStates:!1,gridList:[{id:1,title:"招商信息",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/zhaoshang.png",width:68,height:64,permission:"",url:"/pages/home/merchants/index",count:0},{id:14,title:"停车缴费",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home/payParking/tingchefufei.png",url:"/pages/home/payParking/index",permission:"",width:64,height:66,count:0},{id:3,title:"我的合同",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/hetong.png",width:66,height:65,permission:"contractManagement:selectContractManagement",url:"/pages/home/contract/index",count:0},{id:4,title:"账单缴费",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/zhandan.png",width:58,height:66,permission:"billPay:selectBillPay",url:"/pages/home/billPay/index",count:0},{id:5,title:"人员登记",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/yuangongguanli.png",width:58,height:65,permission:"employeeManagement:selectEmployee",url:"/pages/home/employeeManagement/index",count:0},{id:6,title:"申请报修",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/baoxiu.png",width:68,height:65,permission:"zoneRepair:selectZoneRepair",url:"/pages/home/repairs/index",count:0},{id:7,title:"会议室预约",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/huiyishiyuyue.png",width:68,height:60,permission:"meetingRoomReservation",url:"/pages/home/meetingRoom/index",count:0},{id:8,title:"手机开门",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/menjin.png",width:61,height:65,permission:"accessControl:selectAccessControl",url:"/pages/home/entranceGuard/index",count:0},{id:10,title:"投诉建议",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/userComplaints/lianxiwuye.png",width:64,height:66,permission:"zoneComplaint:selectZoneComplaint",url:"/pages/home/userComplaints/index",count:0},{id:11,title:"联系物业",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/userComplaints/yonghutousu.png",width:64,height:66,permission:"",url:"/pages/home/contactProperty/index",count:0},{id:12,title:"访客授权",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/home-grid/fangkeshouquan3.png",width:64,height:66,url:"/sub-package1/pages/vis/vis",permission:"visitorAuthorization:selectVisitor",count:0},{id:13,title:"物品放行",imgUrl:"http://yuanzhoulvwego.com/wp-content/uploads/static/user-grid/wupingfangxing3.png",url:"/pages/user/propertyPass",permission:"itemManagement:selectItemManagement",width:64,height:66,count:0}]}},computed:{noticeColor:function(){return function(t){return 0==t?"#DC6060":1==t?"#609ddc":2==t?"#dca660":void 0}}},onLoad:function(){this.queryData(),this.gridListFind(),this.cidAddOrUpdateCid()},onShow:function(){this.zoneName=t.getStorageSync("zoneInfo").name||"",this.zoneName&&this.getNotice()},onPullDownRefresh:function(){this.queryData(),this.cidAddOrUpdateCid(),t.stopPullDownRefresh()},onPageScroll:function(t){this.pageScrollTop=Math.floor(t.scrollTop),this.pageScrollTop>0?this.backgroundImage="linear-gradient(-25deg, #e0e6fd 0%, #ffffff 0%, #7EA4FB  0%, #709BFB 100%) !important":this.backgroundImage=" "},methods:{gridListFind:function(){var t=this,e=[];this.gridList.forEach((function(n){!t.$permission([n.permission])&&n.permission||e.push(n)})),this.gridList=e.length>=9?e.slice(0,9):e,this.moreStates=this.gridList.length>=9},cidAddOrUpdateCid:function(){var e=this;console.log(12344);var n=null,i=t.getSystemInfoSync().platform;console.log(i),t.getPushClientId({success:function(o){console.log(o),n=o.cid;var u={cid:n,systemType:"android"===i?2:1};e.$api("user.addOrUpdateCid",u).then((function(t){console.log(t),200==t.code&&console.log("cid")})).catch((function(e){t.hideLoading()})),console.log("客户端推送标识:",n)},fail:function(t){console.log(t)}})},queryData:function(){var e=this;this.typeList=this.$enum.roomType.filter((function(t){return 2!=t.value&&3!=t.value&&6!=t.value&&7!=t.value})),t.getStorageSync("zoneInfo").id?(console.log("拥有园区"),this.getBanner(),this.getDeviceList(),this.getNotice()):this.bannerList=this.list,this.getMerchants(),t.$on("refreshData",(function(){e.getBanner(),e.getDeviceList(),e.getNotice(),e.getMerchants()}))},ScanCode:function(){t.scanCode({success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result)}})},goMerchantsDetails:function(t){this.$Router.push({path:"/pages/home/merchants/detailsMerchants",query:t})},selectZone:function(){this.zoneId<1&&this.$Router.push({path:"/pages/index/selectZone"})},goPage:function(t){this.$tools.routerTo(t.url,{},t.isTabbar||null)},getBanner:function(){var t=this;this.$api("user.getBanner",{promotionScope:2}).then((function(e){if(200==e.code)if(e.data.length){var n=e.data.sort((function(t,e){return t.sort-e.sort}));t.bannerList=n}else t.bannerList=t.list}))},getMerchants:function(){var e=this,n={investmentStatus:1,currPage:1,pageSize:3};t.getStorageSync("zoneInfo").id&&(n.zoneId=t.getStorageSync("zoneInfo").id),this.$api("merchants.merchantsList",n,!1).then((function(t){200==t.code&&(e.merchantsList=t.data.list)}))},goNoticeList:function(t){this.$Router.push({path:"/pages/home/notice/noticeInfo",query:{id:t}})},getNotice:function(){var t=this;this.$api("notice.noticeList",{currPage:1,pageSize:3},!1).then((function(e){200==e.code?t.noticeList=e.data.list:console.log(e.error)}))},getDeviceList:function(){this.$api("equipment.equipmentList",{currPage:1},!1).then((function(e){200==e.code&&(console.log("权限门禁设备列表",e.data),t.setStorageSync("deviceList",e.data))}))}}};e.default=u}).call(this,n("543d")["default"])},"793a":function(t,e,n){},8595:function(t,e,n){"use strict";n.r(e);var i=n("71bf"),o=n.n(i);for(var u in i)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(u);e["default"]=o.a},"9b83":function(t,e,n){"use strict";var i=n("793a"),o=n.n(i);o.a},b33a:function(t,e,n){"use strict";n.r(e);var i=n("4312"),o=n("8595");for(var u in o)["default"].indexOf(u)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(u);n("28c0"),n("9b83");var a=n("f0c5"),r=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=r.exports}},[["3323","common/runtime","common/vendor"]]]);