(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/userInfo"],{"03a4":function(e,t,n){},"0ef8":function(e,t,n){"use strict";(function(e,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("f254"),u={data:function(){return{cellTitle:{fontSize:"30upx",letterSpacing:"2upx",color:"#333333"},roleList:[],deptList:[],userInfo:{avatar:""}}},created:function(){var t=this;e.$off("uAvatarCropper"),e.$on("uAvatarCropper",(function(n){console.log("调用一次"),t.userInfo.avatar=n,e.uploadFile({url:r.IMG_URL+"/image/web/add",filePath:n,name:"file",header:{Authorization:"Bearer ".concat(e.getStorageSync("tokenInfo")?e.getStorageSync("tokenInfo"):"")},success:function(e){var n=JSON.parse(e.data);t.$api("user.updateAvatar",{avatar:n.data,id:t.userInfo.id}).then((function(e){t.$store.dispatch("getUserInfo")}))}})}))},onLoad:function(){var t=this;this.userInfo=e.getStorageSync("userInfo"),console.log(this.userInfo),this.userInfo.roleNames="",this.userInfo.role.forEach((function(e,n){e.roleName.length<=n+1?t.userInfo.roleNames+=e.roleName+"、":t.userInfo.roleNames+=e.roleName}))},methods:{chooseAvatar:function(){this.$tools.routerTo("/uview-ui/components/u-avatar-cropper/u-avatar-cropper",{destWidth:300,rectWidth:200,fileType:"jpg"})},preAvatar:function(){var e=this.userInfo.avatar?this.userInfo.avatar:"http://yuanzhoulvwego.com/wp-content/uploads/static/morentouxiang.png";a.previewImage({current:"",urls:[e]})}}};t.default=u}).call(this,n("543d")["default"],n("bc2e")["default"])},"3fb8":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return a}));var a={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"55c8"))},uCellGroup:function(){return n.e("uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"4a90"))},uCellItem:function(){return n.e("uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"7d4d"))},uImage:function(){return n.e("uview-ui/components/u-image/u-image").then(n.bind(null,"c6f0"))}},r=function(){var e=this.$createElement;this._self._c},u=[]},"68d3":function(e,t,n){},"7bc1":function(e,t,n){"use strict";(function(e,t){var a=n("4ea4");n("27b1"),n("5c17");a(n("66fd"));var r=a(n("f752"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},a809:function(e,t,n){"use strict";var a=n("68d3"),r=n.n(a);r.a},ac20:function(e,t,n){"use strict";var a=n("03a4"),r=n.n(a);r.a},c2a1:function(e,t,n){"use strict";n.r(t);var a=n("0ef8"),r=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);t["default"]=r.a},f752:function(e,t,n){"use strict";n.r(t);var a=n("3fb8"),r=n("c2a1");for(var u in r)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(u);n("ac20"),n("a809");var o=n("f0c5"),i=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"646c9bf6",null,!1,a["a"],void 0);t["default"]=i.exports}},[["7bc1","common/runtime","common/vendor"]]]);