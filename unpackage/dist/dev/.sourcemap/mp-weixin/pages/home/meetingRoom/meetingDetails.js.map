{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?8d7a","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?3938","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?74ff","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?e1aa","uni-app:///pages/home/meetingRoom/meetingDetails.vue","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?e76f","webpack:///D:/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?29e4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uNavbar","uImage","uGrid","uGridItem","uForm","uFormItem","uInput","uIcon","uRow","uCol","uButton","uToast","uCalendar","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","pickerShow","recyclableRender","staticRenderFns","_withStripped","data","enterpriseId","zoneId","roomInfo","form","contact","phone","dataTime","maxData","params","year","month","day","hour","minute","second","leftTime","rightTime","feeTime","nowTime","exceedTime","timeType","duration","rules","required","trigger","validator","callback","onReady","onLoad","methods","getAppointmentDate","getInfo","roomId","date","mapArr","item","temp","confirm","changeState","title","icon","type","onSubmit","appointmentDate","buildingId","floorId","settingsIds","uni"],"mappings":"8JAAA,MAE4D,MAC5D,aACA,YAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,2IACIC,EADJ,QAUIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4CACZ,aAAAF,E,0CCxBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qEAITC,OAAQ,WACN,OAAO,oEAITC,MAAO,WACL,OAAO,iEAITC,UAAW,WACT,OAAO,4EAITC,MAAO,WACL,OAAO,kEAITC,UAAW,WACT,OAAO,gHAITC,OAAQ,WACN,OAAO,wGAITC,MAAO,WACL,OAAO,iEAITC,KAAM,WACJ,OAAO,gEAITC,KAAM,WACJ,OAAO,gEAITC,QAAS,WACP,OAAO,sEAITC,OAAQ,WACN,OAAO,oEAITC,UAAW,WACT,OAAO,2EAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,YAAa,KAInBC,GAAmB,EACnBC,EAAkB,GACtBZ,EAAOa,eAAgB,G,iCClGvB,yHAAmqB,eAAG,G,2tBC8HtqB,CACAC,gBAAA,WACA,OAEAC,uDAEAC,SAEAC,YAEAC,MACAC,WACAC,UAGAC,YAEAC,WAEAZ,cAEAa,QACAC,QACAC,SACAC,OACAC,QACAC,UACAC,WAGAC,YAEAC,aAEAC,UAEAC,UAEAC,aAEAC,WAEAC,WAEAC,OACAlB,UAAAmB,YAAA1C,iBAAA2C,mBACAnB,QAEAoB,0BAEA,wBACAC,4BACA,wBAGA,SAFAA,6BAOAF,+BAKAG,mBACA,uCAEAC,kBACA,gCACA,eACA,iDACA,qCACA,0BACA,gBAEAC,SAEAC,8BAAA,WACA,GAAA7B,oBACA,gEACA,cACA,6BAIA8B,mBAAA,WACA,GACA/B,+BACAgC,wBACAC,mBACAhC,oBAEA,0DACA,gBACA,4CACA,sBACA,KAEAiC,0BACA,YACAC,aAEAA,aAEAC,aAEA,aACA,8BAEA,gCAEA,+FAEA,wBAKAC,oBACA,uBACA,gBAGAC,0BACA,mBAEA,qDASA,YALA,wBACAC,oBACAC,QACAC,iBANAN,iBAWA,sEACA,gEAIAO,oBAAA,WACA,sGACA,uGACA,cACA,uCACA,MACA,iBA2BA,YAJA,qBACAH,mBACAC,UAxBA,WACAG,4BACA,YACAC,iCACAC,2BACAb,qBACAc,cACA9C,8BAEA,oCACA,yDACA,cACA,qBACAuC,aACAC,QACAC,iBAEA,QAAArC,WAAAC,UACA0C,4BAcA,c,6DCrTA,yHAAs8B,eAAG,G,uDCAz8B,yHAAswC,eAAG,G","file":"pages/home/meetingRoom/meetingDetails.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';\nimport Vue from 'vue'\nimport Page from './pages/home/meetingRoom/meetingDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./meetingDetails.vue?vue&type=template&id=623c8ac7&scoped=true&\"\nvar renderjs\nimport script from \"./meetingDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./meetingDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./meetingDetails.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"623c8ac7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/meetingRoom/meetingDetails.vue\"\nexport default component.exports","export * from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=template&id=623c8ac7&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uGrid: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid/u-grid\" */ \"@/uview-ui/components/u-grid/u-grid.vue\"\n      )\n    },\n    uGridItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid-item/u-grid-item\" */ \"@/uview-ui/components/u-grid-item/u-grid-item.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uCalendar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-calendar/u-calendar\" */ \"@/uview-ui/components/u-calendar/u-calendar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.pickerShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=script&lang=js&\"","<template>\r\n\t<page>\r\n\t\t<u-navbar class=\"navbar\" title=\"会议室预约\" :border-bottom=\"false\"></u-navbar>\r\n\t\t<u-image width=\"100%\" height=\"450\" mode=\"scaleToFill\"\r\n\t\t\t:src=\"roomInfo.images[0]\"></u-image>\r\n\t\t<view class=\"top\">\r\n\t\t\t<view class=\"top-title\">\r\n\t\t\t\t{{ roomInfo.conferenceRoomTitle }}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"top-address\">\r\n\t\t\t\t位置：{{ roomInfo.ownedBuilding + '/' + roomInfo.ownedFloor + '/' + roomInfo.name }}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"top-grid\">\r\n\t\t\t\t<u-grid :border=\"false\" :col=\"4\">\r\n\t\t\t\t\t<u-grid-item>\r\n\t\t\t\t\t\t<view class=\"grid-text-top\">\r\n\t\t\t\t\t\t\t{{ roomInfo.chargeAmountOfHour || 0 }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"grid-text\">元/小时</view>\r\n\t\t\t\t\t</u-grid-item>\r\n\t\t\t\t\t<u-grid-item>\r\n\t\t\t\t\t\t<view class=\"grid-text-top\">\r\n\t\t\t\t\t\t\t{{ roomInfo.chargeAmountOfDay || 0 }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"grid-text\">元/天</view>\r\n\t\t\t\t\t</u-grid-item>\r\n\t\t\t\t\t<u-grid-item>\r\n\t\t\t\t\t\t<view class=\"grid-text-top\">\r\n\t\t\t\t\t\t\t{{ roomInfo.maximumCapacity || 0 }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"grid-text\">容纳人数</view>\r\n\t\t\t\t\t</u-grid-item>\r\n\t\t\t\t\t<u-grid-item>\r\n\t\t\t\t\t\t<view class=\"grid-text-top\">\r\n\t\t\t\t\t\t\t{{ roomInfo.area || 0 }}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"grid-text\">面积(m²)</view>\r\n\t\t\t\t\t</u-grid-item>\r\n\t\t\t\t</u-grid>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"top-reminder\">\r\n\t\t\t    <u-image width=\"29\" height=\"29\" :src=\"'https://file.yuanzhoulvwego.com/prod/uploadFiles/home/meetingRoom/wenxintishi.png'\" class=\"top-reminder-image\"></u-image>\r\n\t\t\t    <text>园区入驻企业可免费使用会议室{{ feeTime }}小时</text>\r\n\t\t\t   </view>\r\n\t\t\t   <view class=\"top-reminder\">\r\n\t\t\t    <u-image width=\"29\" height=\"29\" :src=\"'https://file.yuanzhoulvwego.com/prod/uploadFiles/home/meetingRoom/wenxintishi.png'\" class=\"top-reminder-image\"></u-image>\r\n\t\t\t    <text style=\"color: red;\">会议室审核成功，支持首页一键开门</text>\r\n\t\t\t   </view>\r\n\t\t</view>\r\n\t\t<view class=\"middle\">\r\n\t\t\t<view>设施：</view>\r\n\t\t\t<text class=\"middle-text\">\r\n\t\t\t\t{{roomInfo.remark || '无'}}\r\n\t\t\t</text>\r\n\t\t</view>\r\n\t\t<view class=\"middle-form\">\r\n\t\t\t<u-form :border-bottom=\"false\" label-width=\"190\" :model=\"form\" ref=\"uForm\">\r\n\t\t\t\t<view class=\"form-item_box_body\">\r\n\t\t\t\t\t<u-form-item class=\"form-item\" prop=\"contact\" :border-bottom=\"false\" label=\"联系人:\" label-width=\"160upx\">\r\n\t\t\t\t\t\t<u-input placeholder=\"请输入联系人\" v-model=\"form.contact\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t\t<u-form-item class=\"form-item\" prop=\"phone\" :border-bottom=\"false\" label=\"联系电话:\" label-width=\"160upx\">\r\n\t\t\t\t\t\t<u-input placeholder=\"请输入联系电话\" v-model=\"form.phone\" />\r\n\t\t\t\t\t</u-form-item>\r\n\t\t\t\t</view>\r\n\t\t\t</u-form>\r\n\t\t</view>\r\n\t\t<view class=\"bottom\">\r\n\t\t\t<view v-if=\"enterpriseId > 0\" class=\"bottom-title\">\r\n\t\t\t\t<!-- 您本月会议室免费使用时长还剩余\r\n\t\t\t\t<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时，超过时长\r\n\t\t\t\t<text class=\"bottom-title-r\">{{ nowTime >= 0 ? 0 : Math.abs(nowTime) }}</text>小时，超过时长费用将按相应收费标准收费！ -->\r\n\t\t\t\t<view v-if=\"this.nowTime >= this.duration\">\r\n\t\t\t\t\t您本月会议室免费使用总时长<text class=\"bottom-title-r\">{{ feeTime }}</text>小时，\r\n\t\t\t\t\t还剩余<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时。\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-else>您本月会议室免费使用时长还剩余<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时，\r\n\t\t\t\t如需继续使用会议室请联系物管人员申请预约。预约超过免费时长，则按相应收费标准收费！</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bottom-head\">\r\n\t\t\t\t<view class=\"bottom-head-left\" @click=\"pickerShow = true\">\r\n\t\t\t\t\t<u-icon labelWeight=\"bold\" color=\"#3E76F4\" labelSize=\"30\" name=\"clock-fill\"\r\n\t\t\t\t\t\t:label=\"dataTime\" size=\"33\"></u-icon>\r\n\t\t\t\t\t<u-icon name=\"arrow-down-fill\" color=\"#666666\" size=\"28\" style=\"margin-left: 10rpx;\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom-head-right\">\r\n\t\t\t\t\t<view class=\"bottom-head-right-box\">\r\n\t\t\t\t\t\t<view class=\"box\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"box-title-right\">\r\n\t\t\t\t\t\t\t空闲\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"bottom-head-right-box\">\r\n\t\t\t\t\t\t<view class=\"box box-oselected\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"box-title-right\">\r\n\t\t\t\t\t\t\t已预订\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 时间段列表 -->\r\n\t\t\t<u-row gutter=\"30\" justify=\"start\">\r\n\t\t\t\t<u-col span=\"4\" text-align=\"center\" v-for=\"(item, index) in leftTime\" :key=\"item.id\" @click=\"changeState(item, 'left')\">\r\n\t\t\t\t\t<view class=\"periodTime boxs\" :class=\"item.state ? (item.isMyslef === 1 ? 'box-oselected' : 'box-selected'): ''\">\r\n\t\t\t\t\t\t<text class=\"u-font-20\" style=\"vertical-align: text-bottom;\">\r\n\t\t\t\t\t\t\t{{item.time}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</u-col>\r\n\t\t\t</u-row>\r\n\t\t</view>\r\n\t\t<view class=\"btn_box\">\r\n\t\t\t<u-button class=\"btn_box_button\" @click=\"onSubmit\" type=\"primary\" shape=\"circle\">\r\n\t\t\t\t提交预约\r\n\t\t\t</u-button>\r\n\t\t</view>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t\t<!-- 日历 -->\r\n\t\t<u-calendar mode=\"date\" v-model=\"pickerShow\" :min-date=\"dataTime\" :max-date=\"maxData\" @change=\"confirm\"></u-calendar>\r\n\t</page>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 当前租户id\r\n\t\t\t\tenterpriseId: uni.getStorageSync(\"userInfo\").enterpriseId,\r\n\t\t\t\t// 预约的房间的园区id\r\n\t\t\t\tzoneId: 0,\r\n\t\t\t\t// 会议室信息\r\n\t\t\t\troomInfo:{},\r\n\t\t\t\t// 提交预约的表单\r\n\t\t\t\tform: {\r\n\t\t\t\t\tcontact: '',\r\n\t\t\t\t\tphone: ''\r\n\t\t\t\t},\r\n\t\t\t\t// 当前的时间\r\n\t\t\t\tdataTime: '',\r\n\t\t\t\t// 最迟选定时间\r\n\t\t\t\tmaxData: '',\r\n\t\t\t\t// 打开选择时间\r\n\t\t\t\tpickerShow: false,\r\n\t\t\t\t// 选择时间的参数\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tyear: true,\r\n\t\t\t\t\tmonth: true,\r\n\t\t\t\t\tday: true,\r\n\t\t\t\t\thour: false,\r\n\t\t\t\t\tminute: false,\r\n\t\t\t\t\tsecond: false\r\n\t\t\t\t},\r\n\t\t\t\t// 左边时间列表\r\n\t\t\t\tleftTime: [],\r\n\t\t\t\t// 右边时间列表\r\n\t\t\t\trightTime: [],\r\n\t\t\t\t// 免费使用时长\r\n\t\t\t\tfeeTime: 0,\r\n\t\t\t\t// 本月剩余时长\r\n\t\t\t\tnowTime: 0,\r\n\t\t\t\t// 本月超过时长\r\n\t\t\t\texceedTime: 0,\r\n\t\t\t\t// 时间段为0分钟还是1小时\r\n\t\t\t\ttimeType: 0,\r\n\t\t\t\t// 分隔的时间\r\n\t\t\t\tduration: 0,\r\n\t\t\t\t// 规则\r\n\t\t\t\trules: {\r\n\t\t\t\t\tcontact: [{ required: true, message: '请输入联系人', trigger: ['blur'] }],\r\n\t\t\t\t\tphone: [{\r\n\t\t\t\t\t\t// 自定义验证函数\r\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\t//返回true表示校验通过，返回false表示不通过\r\n\t\t\t\t\t\t\tif(this.$u.test.isEmpty(value)){\r\n\t\t\t\t\t\t\t\tcallback(new Error('请输入手机号码'));\r\n\t\t\t\t\t\t\t}else if(!this.$u.test.mobile(value)){\r\n\t\t\t\t\t\t\t\tcallback(new Error('请输入正确的手机号码'));\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// 触发器可以同时用blur和change\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.roomInfo = this.$Route.query\r\n\t\t\tlet day = new Date();\r\n\t\t\tthis.dataTime = this.$u.timeFormat(day,\"yyyy-mm-dd\")\r\n\t\t\tthis.zoneId = this.$Route.query.zoneId\r\n\t\t\tthis.getAppointmentDate()\r\n\t\t\tthis.getInfo()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取允许提前预约日期\r\n\t\t\tgetAppointmentDate() {\r\n\t\t\t\tconst params = { zoneId: this.zoneId }\r\n\t\t\t\tthis.$api('meetingRoom.getAppointmentDate', params).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.maxData = res.data.endDay\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetInfo() {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tenterpriseId: this.enterpriseId,\r\n\t\t\t\t\troomId: this.roomInfo.id,\r\n\t\t\t\t\tdate: this.dataTime,\r\n\t\t\t\t\tzoneId: this.zoneId\r\n\t\t\t\t}\r\n\t\t\t\tthis.$api('meetingRoom.roomTimeList', params).then(res => {\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.nowTime = Math.round((res.data.now / 60 ) * 100) / 100 \r\n\t\t\t\t\t\tlet mapArr = res.data.settings\r\n\t\t\t\t\t\tlet temp = [];\r\n\t\t\t\t\t\tlet ranm = [];\r\n\t\t\t\t\t\tmapArr.forEach((item, index)=> {\r\n\t\t\t\t\t\t\tif (item.state === true) {\r\n\t\t\t\t\t\t\t\titem.isMyslef = 1\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\titem.isMyslef = 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttemp.push(item)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.leftTime = temp\r\n\t\t\t\t\t\tthis.timeType = this.leftTime[0].type\r\n\t\t\t\t\t\t// 免费时长\r\n\t\t\t\t\t\tthis.feeTime = this.leftTime[0].feeTime\r\n\t\t\t\t\t\t// 时间段 时长\r\n\t\t\t\t\t\tthis.duration = this.timeType ? this.leftTime[0].duration : Math.round((this.leftTime[0].duration / 60) * 100) / 100 \r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 选择时间的回显\r\n\t\t\tconfirm(val) {\r\n\t\t\t\tthis.dataTime = val.result\r\n\t\t\t\tthis.getInfo()\r\n\t\t\t},\r\n\t\t\t// 选择预约时间\r\n\t\t\tchangeState(item, type) {\r\n\t\t\t\tif (item.isMyslef === 0) {\r\n\t\t\t\t\t// 没有选中并且剩余时长大于等于时间段 或者 选中的 可以改变状态\r\n\t\t\t\t\tif (!item.state && this.nowTime >= this.duration || item.state) {\r\n\t\t\t\t\t\titem.state = !item.state\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 否则提示\r\n\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\ttitle: '请联系物管人员申请预约',\r\n\t\t\t\t\t\t\ticon: false,\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 选中时 剩余时长=剩余时长-时间段；没选中时 剩余时长=剩余时长+时间段\r\n\t\t\t\t\tif (item.state) this.nowTime = Math.round((this.nowTime - this.duration) * 100) / 100 \r\n\t\t\t\t\telse this.nowTime = Math.round((this.nowTime + this.duration) * 100) / 100 \r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 确定预约按钮\r\n\t\t\tonSubmit() {\r\n\t\t\t\tlet selectTimeL = this.leftTime.filter(item => item.isMyslef === 0 && item.state).map(item => item.id)\r\n\t\t\t\tlet selectTimeR = this.rightTime.filter(item => item.isMyslef === 0 && item.state).map(item => item.id)\r\n\t\t\t\tlet selectTime = selectTimeL.concat(selectTimeR)\r\n\t\t\t\tthis.$refs.uForm.validate(valid => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tif (selectTime.length > 0) {\r\n\t\t\t\t\t\t\tlet params = {\r\n\t\t\t\t\t\t\t\tappointmentDate: this.dataTime,\r\n\t\t\t\t\t\t\t\t...this.form,\r\n\t\t\t\t\t\t\t\tbuildingId: this.roomInfo.buildingId,\r\n\t\t\t\t\t\t\t\tfloorId: this.roomInfo.floorId,\r\n\t\t\t\t\t\t\t\troomId: this.roomInfo.id,\r\n\t\t\t\t\t\t\t\tsettingsIds: selectTime,\r\n\t\t\t\t\t\t\t\tenterpriseId: this.enterpriseId\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.enterpriseId) params.zoneId = this.zoneId\r\n\t\t\t\t\t\t\tthis.$api('meetingRoom.addMeetingRoom', params).then(res => {\r\n\t\t\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '预约成功',\r\n\t\t\t\t\t\t\t\t\t\ticon: false,\r\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tthis.form = { contact: '', phone: ''}\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\t\t\ttitle: '请至少选择一个时间段',\r\n\t\t\t\t\t\t\t\ticon: false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tpage {\r\n\t\tbackground: #f1f2f3;\r\n\t}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n\t.top {\r\n\t\tborder-radius: 40upx 40upx 0px 0px;\r\n\t\tbackground: #FFFFFF;\r\n\t\tmargin-top: -40upx;\r\n\t\tz-index: 1;\r\n\t\tpadding: 50upx 30upx 32upx 30upx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 20upx;\r\n\t\r\n\t\t.top-title {\r\n\t\t\tfont-size: 38upx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmargin-bottom: 30upx;\r\n\t\t}\r\n\t\r\n\t\t.top-address {\r\n\t\t\tcolor: $uni-text-color-prompt;\r\n\t\t}\r\n\t\r\n\t\t.top-grid {\r\n\t\t\t.grid-text-top {\r\n\t\t\t\tfont-size: 48upx;\r\n\t\t\t\tfont-weight: 800;\r\n\t\t\t\tcolor: #E64340;\r\n\t\t\t}\r\n\t\r\n\t\t\t.grid-text {\r\n\t\t\t\tfont-size: 24upx;\r\n\t\t\t\tcolor: $uni-text-color-prompt;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.top-reminder {\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #999999;\r\n\t\t\t.top-reminder-image {\r\n\t\t\t\tmargin-right: 5px;\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.middle {\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 50upx 30upx;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 20upx;\r\n\t\r\n\t\t.middle-text {\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tcolor: $uni-text-color-prompt;\r\n\t\t}\r\n\t}\r\n\t.middle-form {\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 10upx 30upx 40upx;\r\n\t\tmargin-bottom: 20upx;\r\n\t\t.form-item_box_body {\r\n\t\t\t// margin-left: 16upx;\r\n\t\t\t.form-item {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\r\n\t\t\t\t&:before {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tright: 40upx;\r\n\t\t\t\t\theight: 2upx;\r\n\t\t\t\t\twidth: calc(100% - 180upx);\r\n\t\t\t\t\tbackground-color: #dddddd;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.bottom {\r\n\t\tpadding: 34upx 30upx 100upx 30upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\r\n\t\t.bottom-title {\r\n\t\t\tmargin-bottom: 30rpx;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\t.bottom-title-r {\r\n\t\t\t\tcolor: #E64340;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.bottom-head {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding-bottom: 50upx;\r\n\t\r\n\t\t\t.bottom-head-left {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\t\r\n\t\t\t.bottom-head-right {\r\n\t\t\t\tdisplay: flex;\r\n\t\r\n\t\t\t\t.bottom-head-right-box {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-left: 40upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t.periodTime {\r\n\t\t\t// display: flex;\r\n\t\t\t// align-items: center;\r\n\t\t\tmargin-bottom: 40upx;\r\n\t\t}\r\n\t\t\r\n\t\t.box-periodTime {\r\n\t\t\twidth: 120upx !important;\r\n\t\t\theight: 45upx !important;\r\n\t\t\tmargin-left: 10upx;\r\n\t\t}\r\n\t\t\r\n\t\t.box {\r\n\t\t\twidth: 40upx;\r\n\t\t\theight: 34upx;\r\n\t\t\tborder: 1px solid #dddddd;\r\n\t\t\tborder-radius: 3upx;\r\n\t\t}\r\n\t\t.boxs {\r\n\t\t\t// width: 160upx;\r\n\t\t\tpadding: 0 16rpx;\r\n\t\t\theight: 60upx;\r\n\t\t\tline-height: 60upx;\r\n\t\t\tborder: 2upx solid #DDDDDD;\r\n\t\t\tborder-radius: 50upx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t\r\n\t\t.box-oselected {\r\n\t\t\tbackground: #1677FF;\r\n\t\t\tborder: 1px solid #1677FF;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t\t\r\n\t\t.box-selected {\r\n\t\t\tbackground: #F8926A;\r\n\t\t\tborder: 1px solid #F8926A;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t\t\r\n\t\t.box-title-right {\r\n\t\t\tmargin-left: 10upx;\r\n\t\t\tfont-size: 28upx;\r\n\t\t}\r\n\t\r\n\t\t.bottom-foot {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 0upx 40upx 0upx 40upx;\r\n\t\r\n\t\t\t.bottom-foot-left {\r\n\t\t\t\tpadding-left: 15upx;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t// color: #f8926a;\r\n\t\t\t\t.bottom-foot-left-head {\r\n\t\t\t\t\tpadding-bottom: 50upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\t.bottom-foot-right {\r\n\t\t\t\tpadding-left: 15upx;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\t// color: #68d29c;\r\n\t\t\t\tborder-left: 1px solid $uni-border-color;\r\n\t\r\n\t\t\t\t.bottom-foot-right-head {\r\n\t\t\t\t\tpadding-bottom: 50upx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.btn_box {\r\n\t\theight: 98upx;\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tbottom: 0px;\r\n\t\tbackground-color: white;\r\n\t\tpadding: 0 64upx;\r\n\t\t.btn_box_button {\r\n\t\t\tposition: relative;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\""],"sourceRoot":""}