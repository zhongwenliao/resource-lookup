{"version":3,"sources":["uni-app:///main.js","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?493d","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?ef7f","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?d9d0","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?5b26","uni-app:///pages/home/meetingRoom/meetingDetails.vue","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?a07c","webpack:////Users/admin/Project/resource-lookup/pages/home/meetingRoom/meetingDetails.vue?6652"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uNavbar","uImage","uGrid","uGridItem","uForm","uFormItem","uInput","uIcon","uRow","uCol","uButton","uToast","uCalendar","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","pickerShow","recyclableRender","staticRenderFns","_withStripped","data","enterpriseId","zoneId","roomInfo","form","contact","phone","dataTime","maxData","params","year","month","day","hour","minute","second","leftTime","rightTime","feeTime","nowTime","exceedTime","timeType","duration","rules","required","trigger","validator","callback","onReady","onLoad","methods","getAppointmentDate","getInfo","roomId","date","mapArr","item","temp","confirm","changeState","title","icon","type","onSubmit","appointmentDate","buildingId","floorId","settingsIds","uni"],"mappings":"8JAAA,MAE4D,MAC5D,aACA,YAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,2IACIC,EADJ,QAUIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4CACZ,aAAAF,E,0CCxBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qEAITC,OAAQ,WACN,OAAO,oEAITC,MAAO,WACL,OAAO,iEAITC,UAAW,WACT,OAAO,4EAITC,MAAO,WACL,OAAO,kEAITC,UAAW,WACT,OAAO,gHAITC,OAAQ,WACN,OAAO,wGAITC,MAAO,WACL,OAAO,iEAITC,KAAM,WACJ,OAAO,gEAITC,KAAM,WACJ,OAAO,gEAITC,QAAS,WACP,OAAO,sEAITC,OAAQ,WACN,OAAO,oEAITC,UAAW,WACT,OAAO,2EAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,YAAa,KAInBC,GAAmB,EACnBC,EAAkB,GACtBZ,EAAOa,eAAgB,G,iCClGvB,yHAA41B,eAAG,G,2tBC8H/1B,CACAC,gBAAA,WACA,OAEAC,uDAEAC,SAEAC,YAEAC,MACAC,WACAC,UAGAC,YAEAC,WAEAZ,cAEAa,QACAC,QACAC,SACAC,OACAC,QACAC,UACAC,WAGAC,YAEAC,aAEAC,UAEAC,UAEAC,aAEAC,WAEAC,WAEAC,OACAlB,UAAAmB,YAAA1C,iBAAA2C,mBACAnB,QAEAoB,0BAEA,wBACAC,4BACA,wBAGA,SAFAA,6BAOAF,+BAKAG,mBACA,uCAEAC,kBACA,gCACA,eACA,iDACA,qCACA,0BACA,gBAEAC,SAEAC,8BAAA,WACA,GAAA7B,oBACA,gEACA,cACA,6BAIA8B,mBAAA,WACA,GACA/B,+BACAgC,wBACAC,mBACAhC,oBAEA,0DACA,gBACA,4CACA,sBACA,KAEAiC,0BACA,YACAC,aAEAA,aAEAC,aAEA,aACA,8BAEA,gCAEA,+FAEA,wBAKAC,oBACA,uBACA,gBAGAC,0BACA,mBAEA,qDASA,YALA,wBACAC,oBACAC,QACAC,iBANAN,iBAWA,sEACA,gEAIAO,oBAAA,WACA,sGACA,uGACA,cACA,uCACA,MACA,iBA2BA,YAJA,qBACAH,mBACAC,UAxBA,WACAG,4BACA,YACAC,iCACAC,2BACAb,qBACAc,cACA9C,8BAEA,oCACA,yDACA,cACA,qBACAuC,aACAC,QACAC,iBAEA,QAAArC,WAAAC,UACA0C,4BAcA,c,6DCrTA,yHAAysC,eAAG,G,uDCA5sC,yHAAmlD,eAAG,G","file":"pages/home/meetingRoom/meetingDetails.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';\nimport Vue from 'vue'\nimport Page from './pages/home/meetingRoom/meetingDetails.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./meetingDetails.vue?vue&type=template&id=623c8ac7&scoped=true&\"\nvar renderjs\nimport script from \"./meetingDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./meetingDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./meetingDetails.vue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"623c8ac7\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/meetingRoom/meetingDetails.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=template&id=623c8ac7&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uGrid: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid/u-grid\" */ \"@/uview-ui/components/u-grid/u-grid.vue\"\n      )\n    },\n    uGridItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-grid-item/u-grid-item\" */ \"@/uview-ui/components/u-grid-item/u-grid-item.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n    uCalendar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-calendar/u-calendar\" */ \"@/uview-ui/components/u-calendar/u-calendar.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.pickerShow = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=script&lang=js&\"","<template>\n\t<page>\n\t\t<u-navbar class=\"navbar\" title=\"会议室预约\" :border-bottom=\"false\"></u-navbar>\n\t\t<u-image width=\"100%\" height=\"450\" mode=\"scaleToFill\"\n\t\t\t:src=\"roomInfo.images[0]\"></u-image>\n\t\t<view class=\"top\">\n\t\t\t<view class=\"top-title\">\n\t\t\t\t{{ roomInfo.conferenceRoomTitle }}\n\t\t\t</view>\n\t\t\t<view class=\"top-address\">\n\t\t\t\t位置：{{ roomInfo.ownedBuilding + '/' + roomInfo.ownedFloor + '/' + roomInfo.name }}\n\t\t\t</view>\n\t\t\t<view class=\"top-grid\">\n\t\t\t\t<u-grid :border=\"false\" :col=\"4\">\n\t\t\t\t\t<u-grid-item>\n\t\t\t\t\t\t<view class=\"grid-text-top\">\n\t\t\t\t\t\t\t{{ roomInfo.chargeAmountOfHour || 0 }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"grid-text\">元/小时</view>\n\t\t\t\t\t</u-grid-item>\n\t\t\t\t\t<u-grid-item>\n\t\t\t\t\t\t<view class=\"grid-text-top\">\n\t\t\t\t\t\t\t{{ roomInfo.chargeAmountOfDay || 0 }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"grid-text\">元/天</view>\n\t\t\t\t\t</u-grid-item>\n\t\t\t\t\t<u-grid-item>\n\t\t\t\t\t\t<view class=\"grid-text-top\">\n\t\t\t\t\t\t\t{{ roomInfo.maximumCapacity || 0 }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"grid-text\">容纳人数</view>\n\t\t\t\t\t</u-grid-item>\n\t\t\t\t\t<u-grid-item>\n\t\t\t\t\t\t<view class=\"grid-text-top\">\n\t\t\t\t\t\t\t{{ roomInfo.area || 0 }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"grid-text\">面积(m²)</view>\n\t\t\t\t\t</u-grid-item>\n\t\t\t\t</u-grid>\n\t\t\t</view>\n\t\t\t<view class=\"top-reminder\">\n\t\t\t    <u-image width=\"29\" height=\"29\" :src=\"'/static/home/meetingRoom/wenxintishi.png'\" class=\"top-reminder-image\"></u-image>\n\t\t\t    <text>园区入驻企业可免费使用会议室{{ feeTime }}小时</text>\n\t\t\t   </view>\n\t\t\t   <view class=\"top-reminder\">\n\t\t\t    <u-image width=\"29\" height=\"29\" :src=\"'/static/home/meetingRoom/wenxintishi.png'\" class=\"top-reminder-image\"></u-image>\n\t\t\t    <text style=\"color: red;\">会议室审核成功，支持首页一键开门</text>\n\t\t\t   </view>\n\t\t</view>\n\t\t<view class=\"middle\">\n\t\t\t<view>设施：</view>\n\t\t\t<text class=\"middle-text\">\n\t\t\t\t{{roomInfo.remark || '无'}}\n\t\t\t</text>\n\t\t</view>\n\t\t<view class=\"middle-form\">\n\t\t\t<u-form :border-bottom=\"false\" label-width=\"190\" :model=\"form\" ref=\"uForm\">\n\t\t\t\t<view class=\"form-item_box_body\">\n\t\t\t\t\t<u-form-item class=\"form-item\" prop=\"contact\" :border-bottom=\"false\" label=\"联系人:\" label-width=\"160upx\">\n\t\t\t\t\t\t<u-input placeholder=\"请输入联系人\" v-model=\"form.contact\" />\n\t\t\t\t\t</u-form-item>\n\t\t\t\t\t<u-form-item class=\"form-item\" prop=\"phone\" :border-bottom=\"false\" label=\"联系电话:\" label-width=\"160upx\">\n\t\t\t\t\t\t<u-input placeholder=\"请输入联系电话\" v-model=\"form.phone\" />\n\t\t\t\t\t</u-form-item>\n\t\t\t\t</view>\n\t\t\t</u-form>\n\t\t</view>\n\t\t<view class=\"bottom\">\n\t\t\t<view v-if=\"enterpriseId > 0\" class=\"bottom-title\">\n\t\t\t\t<!-- 您本月会议室免费使用时长还剩余\n\t\t\t\t<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时，超过时长\n\t\t\t\t<text class=\"bottom-title-r\">{{ nowTime >= 0 ? 0 : Math.abs(nowTime) }}</text>小时，超过时长费用将按相应收费标准收费！ -->\n\t\t\t\t<view v-if=\"this.nowTime >= this.duration\">\n\t\t\t\t\t您本月会议室免费使用总时长<text class=\"bottom-title-r\">{{ feeTime }}</text>小时，\n\t\t\t\t\t还剩余<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时。\n\t\t\t\t</view>\n\t\t\t\t<view v-else>您本月会议室免费使用时长还剩余<text class=\"bottom-title-r\">{{ nowTime >= 0 ? nowTime : 0 }}</text>小时，\n\t\t\t\t如需继续使用会议室请联系物管人员申请预约。预约超过免费时长，则按相应收费标准收费！</view>\n\t\t\t</view>\n\t\t\t<view class=\"bottom-head\">\n\t\t\t\t<view class=\"bottom-head-left\" @click=\"pickerShow = true\">\n\t\t\t\t\t<u-icon labelWeight=\"bold\" color=\"#3E76F4\" labelSize=\"30\" name=\"clock-fill\"\n\t\t\t\t\t\t:label=\"dataTime\" size=\"33\"></u-icon>\n\t\t\t\t\t<u-icon name=\"arrow-down-fill\" color=\"#666666\" size=\"28\" style=\"margin-left: 10rpx;\"></u-icon>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"bottom-head-right\">\n\t\t\t\t\t<view class=\"bottom-head-right-box\">\n\t\t\t\t\t\t<view class=\"box\">\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"box-title-right\">\n\t\t\t\t\t\t\t空闲\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"bottom-head-right-box\">\n\t\t\t\t\t\t<view class=\"box box-oselected\">\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"box-title-right\">\n\t\t\t\t\t\t\t已预订\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 时间段列表 -->\n\t\t\t<u-row gutter=\"30\" justify=\"start\">\n\t\t\t\t<u-col span=\"4\" text-align=\"center\" v-for=\"(item, index) in leftTime\" :key=\"item.id\" @click=\"changeState(item, 'left')\">\n\t\t\t\t\t<view class=\"periodTime boxs\" :class=\"item.state ? (item.isMyslef === 1 ? 'box-oselected' : 'box-selected'): ''\">\n\t\t\t\t\t\t<text class=\"u-font-20\" style=\"vertical-align: text-bottom;\">\n\t\t\t\t\t\t\t{{item.time}}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t</u-col>\n\t\t\t</u-row>\n\t\t</view>\n\t\t<view class=\"btn_box\">\n\t\t\t<u-button class=\"btn_box_button\" @click=\"onSubmit\" type=\"primary\" shape=\"circle\">\n\t\t\t\t提交预约\n\t\t\t</u-button>\n\t\t</view>\n\t\t<u-toast ref=\"uToast\" />\n\t\t<!-- 日历 -->\n\t\t<u-calendar mode=\"date\" v-model=\"pickerShow\" :min-date=\"dataTime\" :max-date=\"maxData\" @change=\"confirm\"></u-calendar>\n\t</page>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 当前租户id\n\t\t\t\tenterpriseId: uni.getStorageSync(\"userInfo\").enterpriseId,\n\t\t\t\t// 预约的房间的园区id\n\t\t\t\tzoneId: 0,\n\t\t\t\t// 会议室信息\n\t\t\t\troomInfo:{},\n\t\t\t\t// 提交预约的表单\n\t\t\t\tform: {\n\t\t\t\t\tcontact: '',\n\t\t\t\t\tphone: ''\n\t\t\t\t},\n\t\t\t\t// 当前的时间\n\t\t\t\tdataTime: '',\n\t\t\t\t// 最迟选定时间\n\t\t\t\tmaxData: '',\n\t\t\t\t// 打开选择时间\n\t\t\t\tpickerShow: false,\n\t\t\t\t// 选择时间的参数\n\t\t\t\tparams: {\n\t\t\t\t\tyear: true,\n\t\t\t\t\tmonth: true,\n\t\t\t\t\tday: true,\n\t\t\t\t\thour: false,\n\t\t\t\t\tminute: false,\n\t\t\t\t\tsecond: false\n\t\t\t\t},\n\t\t\t\t// 左边时间列表\n\t\t\t\tleftTime: [],\n\t\t\t\t// 右边时间列表\n\t\t\t\trightTime: [],\n\t\t\t\t// 免费使用时长\n\t\t\t\tfeeTime: 0,\n\t\t\t\t// 本月剩余时长\n\t\t\t\tnowTime: 0,\n\t\t\t\t// 本月超过时长\n\t\t\t\texceedTime: 0,\n\t\t\t\t// 时间段为0分钟还是1小时\n\t\t\t\ttimeType: 0,\n\t\t\t\t// 分隔的时间\n\t\t\t\tduration: 0,\n\t\t\t\t// 规则\n\t\t\t\trules: {\n\t\t\t\t\tcontact: [{ required: true, message: '请输入联系人', trigger: ['blur'] }],\n\t\t\t\t\tphone: [{\n\t\t\t\t\t\t// 自定义验证函数\n\t\t\t\t\t\tvalidator: (rule, value, callback) => {\n\t\t\t\t\t\t\t//返回true表示校验通过，返回false表示不通过\n\t\t\t\t\t\t\tif(this.$u.test.isEmpty(value)){\n\t\t\t\t\t\t\t\tcallback(new Error('请输入手机号码'));\n\t\t\t\t\t\t\t}else if(!this.$u.test.mobile(value)){\n\t\t\t\t\t\t\t\tcallback(new Error('请输入正确的手机号码'));\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\treturn true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// 触发器可以同时用blur和change\n\t\t\t\t\t\ttrigger: ['blur', 'change']\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\tthis.$refs.uForm.setRules(this.rules);\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.roomInfo = this.$Route.query\n\t\t\tlet day = new Date();\n\t\t\tthis.dataTime = this.$u.timeFormat(day,\"yyyy-mm-dd\")\n\t\t\tthis.zoneId = this.$Route.query.zoneId\n\t\t\tthis.getAppointmentDate()\n\t\t\tthis.getInfo()\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取允许提前预约日期\n\t\t\tgetAppointmentDate() {\n\t\t\t\tconst params = { zoneId: this.zoneId }\n\t\t\t\tthis.$api('meetingRoom.getAppointmentDate', params).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tthis.maxData = res.data.endDay\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetInfo() {\n\t\t\t\tconst params = {\n\t\t\t\t\tenterpriseId: this.enterpriseId,\n\t\t\t\t\troomId: this.roomInfo.id,\n\t\t\t\t\tdate: this.dataTime,\n\t\t\t\t\tzoneId: this.zoneId\n\t\t\t\t}\n\t\t\t\tthis.$api('meetingRoom.roomTimeList', params).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tthis.nowTime = Math.round((res.data.now / 60 ) * 100) / 100 \n\t\t\t\t\t\tlet mapArr = res.data.settings\n\t\t\t\t\t\tlet temp = [];\n\t\t\t\t\t\tlet ranm = [];\n\t\t\t\t\t\tmapArr.forEach((item, index)=> {\n\t\t\t\t\t\t\tif (item.state === true) {\n\t\t\t\t\t\t\t\titem.isMyslef = 1\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\titem.isMyslef = 0\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttemp.push(item)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.leftTime = temp\n\t\t\t\t\t\tthis.timeType = this.leftTime[0].type\n\t\t\t\t\t\t// 免费时长\n\t\t\t\t\t\tthis.feeTime = this.leftTime[0].feeTime\n\t\t\t\t\t\t// 时间段 时长\n\t\t\t\t\t\tthis.duration = this.timeType ? this.leftTime[0].duration : Math.round((this.leftTime[0].duration / 60) * 100) / 100 \n\t\t\t\t\t}\n\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 选择时间的回显\n\t\t\tconfirm(val) {\n\t\t\t\tthis.dataTime = val.result\n\t\t\t\tthis.getInfo()\n\t\t\t},\n\t\t\t// 选择预约时间\n\t\t\tchangeState(item, type) {\n\t\t\t\tif (item.isMyslef === 0) {\n\t\t\t\t\t// 没有选中并且剩余时长大于等于时间段 或者 选中的 可以改变状态\n\t\t\t\t\tif (!item.state && this.nowTime >= this.duration || item.state) {\n\t\t\t\t\t\titem.state = !item.state\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 否则提示\n\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\ttitle: '请联系物管人员申请预约',\n\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t// 选中时 剩余时长=剩余时长-时间段；没选中时 剩余时长=剩余时长+时间段\n\t\t\t\t\tif (item.state) this.nowTime = Math.round((this.nowTime - this.duration) * 100) / 100 \n\t\t\t\t\telse this.nowTime = Math.round((this.nowTime + this.duration) * 100) / 100 \n\t\t\t\t}\n\t\t\t},\n\t\t\t// 确定预约按钮\n\t\t\tonSubmit() {\n\t\t\t\tlet selectTimeL = this.leftTime.filter(item => item.isMyslef === 0 && item.state).map(item => item.id)\n\t\t\t\tlet selectTimeR = this.rightTime.filter(item => item.isMyslef === 0 && item.state).map(item => item.id)\n\t\t\t\tlet selectTime = selectTimeL.concat(selectTimeR)\n\t\t\t\tthis.$refs.uForm.validate(valid => {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tif (selectTime.length > 0) {\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\tappointmentDate: this.dataTime,\n\t\t\t\t\t\t\t\t...this.form,\n\t\t\t\t\t\t\t\tbuildingId: this.roomInfo.buildingId,\n\t\t\t\t\t\t\t\tfloorId: this.roomInfo.floorId,\n\t\t\t\t\t\t\t\troomId: this.roomInfo.id,\n\t\t\t\t\t\t\t\tsettingsIds: selectTime,\n\t\t\t\t\t\t\t\tenterpriseId: this.enterpriseId\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.enterpriseId) params.zoneId = this.zoneId\n\t\t\t\t\t\t\tthis.$api('meetingRoom.addMeetingRoom', params).then(res => {\n\t\t\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\t\t\t\ttitle: '预约成功',\n\t\t\t\t\t\t\t\t\t\ticon: false,\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tthis.form = { contact: '', phone: ''}\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$refs.uToast.show({\n\t\t\t\t\t\t\t\ttitle: '请至少选择一个时间段',\n\t\t\t\t\t\t\t\ticon: false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\tpage {\n\t\tbackground: #f1f2f3;\n\t}\n</style>\n<style lang=\"scss\" scoped>\n\t.top {\n\t\tborder-radius: 40upx 40upx 0px 0px;\n\t\tbackground: #FFFFFF;\n\t\tmargin-top: -40upx;\n\t\tz-index: 1;\n\t\tpadding: 50upx 30upx 32upx 30upx;\n\t\tposition: relative;\n\t\tmargin-bottom: 20upx;\n\t\n\t\t.top-title {\n\t\t\tfont-size: 38upx;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-bottom: 30upx;\n\t\t}\n\t\n\t\t.top-address {\n\t\t\tcolor: $uni-text-color-prompt;\n\t\t}\n\t\n\t\t.top-grid {\n\t\t\t.grid-text-top {\n\t\t\t\tfont-size: 48upx;\n\t\t\t\tfont-weight: 800;\n\t\t\t\tcolor: #E64340;\n\t\t\t}\n\t\n\t\t\t.grid-text {\n\t\t\t\tfont-size: 24upx;\n\t\t\t\tcolor: $uni-text-color-prompt;\n\t\t\t}\n\t\t}\n\t\t.top-reminder {\n\t\t\tfont-size: 26upx;\n\t\t\tcolor: #999999;\n\t\t\t.top-reminder-image {\n\t\t\t\tmargin-right: 5px;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tvertical-align: middle;\n\t\t\t}\n\t\t}\n\t}\n\t.middle {\n\t\tbackground: #FFFFFF;\n\t\tpadding: 50upx 30upx;\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20upx;\n\t\n\t\t.middle-text {\n\t\t\tfont-size: 28upx;\n\t\t\tcolor: $uni-text-color-prompt;\n\t\t}\n\t}\n\t.middle-form {\n\t\tbackground: #FFFFFF;\n\t\tpadding: 10upx 30upx 40upx;\n\t\tmargin-bottom: 20upx;\n\t\t.form-item_box_body {\n\t\t\t// margin-left: 16upx;\n\t\t\t.form-item {\n\t\t\t\tposition: relative;\n\t\t\t\t\t\t\n\t\t\t\t&:before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\tright: 40upx;\n\t\t\t\t\theight: 2upx;\n\t\t\t\t\twidth: calc(100% - 180upx);\n\t\t\t\t\tbackground-color: #dddddd;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.bottom {\n\t\tpadding: 34upx 30upx 100upx 30upx;\n\t\tbackground: #FFFFFF;\n\t\n\t\t.bottom-title {\n\t\t\tmargin-bottom: 30rpx;\n\t\t\tfont-size: 26rpx;\n\t\t\t.bottom-title-r {\n\t\t\t\tcolor: #E64340;\n\t\t\t}\n\t\t}\n\t\t.bottom-head {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tpadding-bottom: 50upx;\n\t\n\t\t\t.bottom-head-left {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\n\t\t\t.bottom-head-right {\n\t\t\t\tdisplay: flex;\n\t\n\t\t\t\t.bottom-head-right-box {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin-left: 40upx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.periodTime {\n\t\t\t// display: flex;\n\t\t\t// align-items: center;\n\t\t\tmargin-bottom: 40upx;\n\t\t}\n\t\t\n\t\t.box-periodTime {\n\t\t\twidth: 120upx !important;\n\t\t\theight: 45upx !important;\n\t\t\tmargin-left: 10upx;\n\t\t}\n\t\t\n\t\t.box {\n\t\t\twidth: 40upx;\n\t\t\theight: 34upx;\n\t\t\tborder: 1px solid #dddddd;\n\t\t\tborder-radius: 3upx;\n\t\t}\n\t\t.boxs {\n\t\t\t// width: 160upx;\n\t\t\tpadding: 0 16rpx;\n\t\t\theight: 60upx;\n\t\t\tline-height: 60upx;\n\t\t\tborder: 2upx solid #DDDDDD;\n\t\t\tborder-radius: 50upx;\n\t\t\ttext-align: center;\n\t\t}\n\t\t\n\t\t.box-oselected {\n\t\t\tbackground: #1677FF;\n\t\t\tborder: 1px solid #1677FF;\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\t\t\n\t\t.box-selected {\n\t\t\tbackground: #F8926A;\n\t\t\tborder: 1px solid #F8926A;\n\t\t\tcolor: #FFFFFF;\n\t\t}\n\t\t\n\t\t.box-title-right {\n\t\t\tmargin-left: 10upx;\n\t\t\tfont-size: 28upx;\n\t\t}\n\t\n\t\t.bottom-foot {\n\t\t\tdisplay: flex;\n\t\t\tpadding: 0upx 40upx 0upx 40upx;\n\t\n\t\t\t.bottom-foot-left {\n\t\t\t\tpadding-left: 15upx;\n\t\t\t\tflex: 1;\n\t\t\t\t// color: #f8926a;\n\t\t\t\t.bottom-foot-left-head {\n\t\t\t\t\tpadding-bottom: 50upx;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t.bottom-foot-right {\n\t\t\t\tpadding-left: 15upx;\n\t\t\t\tflex: 1;\n\t\t\t\t// color: #68d29c;\n\t\t\t\tborder-left: 1px solid $uni-border-color;\n\t\n\t\t\t\t.bottom-foot-right-head {\n\t\t\t\t\tpadding-bottom: 50upx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.btn_box {\n\t\theight: 98upx;\n\t\tposition: fixed;\n\t\twidth: 100%;\n\t\tbottom: 0px;\n\t\tbackground-color: white;\n\t\tpadding: 0 64upx;\n\t\t.btn_box_button {\n\t\t\tposition: relative;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n</style>\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./meetingDetails.vue?vue&type=style&index=1&id=623c8ac7&lang=scss&scoped=true&\""],"sourceRoot":""}