{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Project/resource-lookup/sub-package2/pages/home/payParking/monthlyCardProcessing.vue?6b54","webpack:///D:/Project/resource-lookup/sub-package2/pages/home/payParking/monthlyCardProcessing.vue?3744","webpack:///D:/Project/resource-lookup/sub-package2/pages/home/payParking/monthlyCardProcessing.vue?d2e2","webpack:///D:/Project/resource-lookup/sub-package2/pages/home/payParking/monthlyCardProcessing.vue?77bf","uni-app:///sub-package2/pages/home/payParking/monthlyCardProcessing.vue","webpack:///D:/Project/resource-lookup/sub-package2/pages/home/payParking/monthlyCardProcessing.vue?e5f0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uNavbar","uGap","uForm","uFormItem","uInput","uKeyboard","uSelect","uImage","uUpload","uButton","uPicker","uModal","uLoading","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","roomIdSelect","e1","licensePlateNumberStatus","e2","processingTimeStattus","recyclableRender","staticRenderFns","_withStripped","myTextarea","data","id","enterpriseId","userId","form","personnelAccess","licensePlateNumber","remark","cardList","type","timePicker","showModel","processingTimename","timeType","roomIdSelectList","action","timeParams","year","month","day","hour","minute","second","timeList","label","value","labelStyle","fontSize","fontWeight","color","rules","roleName","required","trigger","startDate","validator","accEndDateTime","onReady","onLoad","methods","infoData","getDepartmentAll","arr","bindPickerChange","onSubmit","userName","processingTime","phone","driverPhoto","idPhoto","roomId","endDate","path","query","title","licensePlateNumberChange","licensePlateNumberChange2","licensePlateNumberbackspace","idPhotolistChange","idPhotoUploadSuccess","lists","driverPhotolistChange","driverPhotoUploadSuccess","openTimePicker","confirm","knowConfirm","uni","commonAddMouth","monthnum","date","Jmonth","doHandleMonth","m"],"mappings":"mLAAA,MAE4D,MAC5D,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,+DACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,qEAITC,KAAM,WACJ,OAAO,gEAITC,MAAO,WACL,OAAO,kEAITC,UAAW,WACT,OAAO,gHAITC,OAAQ,WACN,OAAO,wGAITC,UAAW,WACT,OAAO,0EAITC,QAAS,WACP,OAAO,sEAITC,OAAQ,WACN,OAAO,oEAITC,QAAS,WACP,OAAO,0GAITC,QAAS,WACP,OAAO,sEAITC,QAAS,WACP,OAAO,0GAITC,OAAQ,WACN,OAAO,oEAITC,SAAU,WACR,OAAO,wEAITC,OAAQ,WACN,OAAO,qEAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,cAAe,GAErBT,EAAIU,GAAK,SAAUF,GACjBR,EAAIW,0BAA2B,GAEjCX,EAAIY,GAAK,SAAUJ,GACjBR,EAAIa,uBAAwB,KAI9BC,GAAmB,EACnBC,EAAkB,GACtBhB,EAAOiB,eAAgB,G,iCC7GvB,yHAAyrB,eAAG,G,8PCqN5rB,CACArC,YACAsC,cAEAC,gBAAA,WACA,OACAC,KAEAC,uDACAC,uCAEAC,MACAC,mBACAC,sBACAC,WAGAC,YAEAC,OAEAlB,gBAEAmB,cAEAC,aAEAlB,4BAEAE,yBAEAiB,sBAEAC,WAEAC,oBAEAC,wBAEAC,YACAC,QACAC,SACAC,OACAC,QACAC,UACAC,WAEAC,UASA,CACAC,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,WACAC,SAEA,CACAD,YACAC,UAEA,CACAD,YACAC,UAEA,CACAD,YACAC,WAKAC,YACAC,iBACAC,kBACAC,iBAEAC,OACAC,UACA,CACAC,YACAvD,kBACAwD,qBAGA5B,iBACA,CACA2B,YACAvD,gBACAwD,qBAGAC,WACA,CACAF,YACAvD,kBACAwD,oBAEA,CACAE,0BACA,8BAGA,mDAEA1D,qBACAwD,4BAGAG,gBACA,CACAJ,YACAvD,kBACAwD,oBAEA,CACAE,0BACA,yBAGA,8CAEA1D,qBACAwD,+BAMAI,mBACA,uCAEAC,kBACA3D,oCACA,iCACA,mCACA,wBACA,8BACA,gCACA,oBACA,qBACA,yBACA,yBAEA4D,SACAC,oBAAA,WACA,gBACA,6BACA,2CAAAvC,aAAA,kBACAtB,eACA,cACA,0BACA,gCACA,0DAQA8D,4BAAA,WACA,2DACAvC,iCACA,kBACA,gBACA,aACA,sBACAwC,uBACA,yBACAlB,kBACAC,qBAGA9C,qCAKAgE,6BACAhE,gDACA,2BAGAiE,oBAAA,WACA,uCAEA,GADA,0EACA,GACA,OACA1C,4BACA2C,yBACApC,YACAN,gBACAG,6CACAwC,qCACAC,mBACAC,+BACAC,uBACAC,qBACAhB,2BACAiB,uBACA5C,sBAEA5B,eACA,wDACAA,eACA,aAEA,gBACAyE,yDACAC,OACApD,aAKA,qBACAqD,YACA7C,uBAKA9B,wBAMA4E,qCACA,gCACA5E,6CAEA6E,sCACA7E,6CAGA8E,uCACA,sCACA,4GAGAC,kCAUAC,uCAAA,WACAhF,eACA,cACA,qBACAiF,uBACAjF,6BACA,0CAKAkF,sCAQAC,2CAAA,WACA,cACA,yBACAF,uBACA,8CAMAG,2BACA,mBACA,4BACA,GAIAC,oBAYA,GAXArF,+BACA,oBACAA,eACA,4BACA,+BAEA,6BACAA,eACA,oCACA,oCAEA,iBACA,wEACA,yCACA,wBAIAsF,uBACA,WACA5D,oBAEA6D,kBAUAC,+BACA,QAEAC,EADA,mBACAA,YAEAA,EAEA,kBAEA,cAEA,aAEAC,+BAEA,qBAEA,kBACA,wBAEA,OACAlD,MAEA,OAEA,8BAEAA,EADA,KACAA,GAEAA,IAGA,OACAA,OAIA,OACAA,MAGA,mBACA,iBACA,iBAGA,OAFAmD,wBACAnD,wBACA,OACA,cAEA,iCAEAoD,0BACA,QAIA,OAHA,yBACAC,SAEA,KAGA,c,6DC5mBA,yHAAwyC,eAAG,G","file":"sub-package2/pages/home/payParking/monthlyCardProcessing.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;;import '@dcloudio/vue-cli-plugin-uni/packages/uni-push/dist/uni-push.es.js';\nimport Vue from 'vue'\nimport Page from './sub-package2/pages/home/payParking/monthlyCardProcessing.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./monthlyCardProcessing.vue?vue&type=template&id=7581880e&scoped=true&\"\nvar renderjs\nimport script from \"./monthlyCardProcessing.vue?vue&type=script&lang=js&\"\nexport * from \"./monthlyCardProcessing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./monthlyCardProcessing.vue?vue&type=style&index=0&id=7581880e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7581880e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"sub-package2/pages/home/payParking/monthlyCardProcessing.vue\"\nexport default component.exports","export * from \"-!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./monthlyCardProcessing.vue?vue&type=template&id=7581880e&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uGap: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-gap/u-gap\" */ \"@/uview-ui/components/u-gap/u-gap.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form/u-form\" */ \"@/uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-form-item/u-form-item\" */ \"@/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uKeyboard: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-keyboard/u-keyboard\" */ \"@/uview-ui/components/u-keyboard/u-keyboard.vue\"\n      )\n    },\n    uSelect: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    },\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uUpload: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-upload/u-upload\" */ \"@/uview-ui/components/u-upload/u-upload.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-picker/u-picker\" */ \"@/uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n    uModal: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uLoading: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loading/u-loading\" */ \"@/uview-ui/components/u-loading/u-loading.vue\"\n      )\n    },\n    uToast: function () {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-toast/u-toast\" */ \"@/uview-ui/components/u-toast/u-toast.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.roomIdSelect = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.licensePlateNumberStatus = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.processingTimeStattus = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./monthlyCardProcessing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./monthlyCardProcessing.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"body\">\r\n    <u-navbar :title=\"type > 0 ? '月卡延期' : '月卡申请'\"></u-navbar>\r\n    <u-gap height=\"20\" bg-color=\"#f1f2f3\"></u-gap>\r\n    <view class=\"content\">\r\n      <u-form\r\n        :border-bottom=\"false\"\r\n        label-width=\"150upx\"\r\n        style=\"padding: 40upx 40upx 110upx 40upx\"\r\n        :model=\"form\"\r\n        ref=\"uForm\"\r\n      >\r\n        <view class=\"form-item_box\">\r\n          <u-form-item required class=\"form-item\" prop=\"userName\" :border-bottom=\"false\" label=\"个人姓名\">\r\n            <u-input :disabled=\"true\" placeholder=\"请输入个人姓名\" v-model=\"form.userName\" />\r\n          </u-form-item>\r\n\r\n          <u-form-item required class=\"form-item\" prop=\"phone\" :border-bottom=\"false\" label=\"手机号码\">\r\n            <u-input :disabled=\"true\" type=\"number\" placeholder=\"请输入手机号码\" maxlength=\"11\" v-model=\"form.phone\" />\r\n          </u-form-item>\r\n          <u-form-item required class=\"form-item\" prop=\"roleName\" :border-bottom=\"false\" label=\"选择房间\">\r\n            <u-input @click=\"roomIdSelect = true\" placeholder=\"请选择房间\" v-model=\"form.roleName\" />\r\n          </u-form-item>\r\n          <u-form-item\r\n            ref=\"vlicensePlateNumberData\"\r\n            class=\"form-item\"\r\n            prop=\"licensePlateNumber\"\r\n            :border-bottom=\"false\"\r\n            label=\"车牌号码\"\r\n          >\r\n            <u-input\r\n              type=\"text\"\r\n              @click=\"licensePlateNumberStatus = true\"\r\n              placeholder=\"请输入车牌号码\"\r\n              v-model=\"form.licensePlateNumber\"\r\n            />\r\n            <u-keyboard\r\n              ref=\"uKeyboard\"\r\n              @change=\"licensePlateNumberChange\"\r\n              @backspace=\"licensePlateNumberbackspace\"\r\n              mode=\"car\"\r\n              :mask=\"false\"\r\n              v-model=\"licensePlateNumberStatus\"\r\n            >\r\n            </u-keyboard>\r\n          </u-form-item>\r\n          <u-form-item required class=\"form-item\" prop=\"processingTime\" :border-bottom=\"false\" label=\"办理时长\">\r\n            <u-input\r\n              type=\"select\"\r\n              @click=\"processingTimeStattus = true\"\r\n              placeholder=\"请选择办理时长\"\r\n              v-model=\"processingTimename\"\r\n            />\r\n            <u-select\r\n              v-model=\"processingTimeStattus\"\r\n              @confirm=\"confirm\"\r\n              mode=\"mutil-column-auto\"\r\n              value-name=\"value\"\r\n              label-name=\"label\"\r\n              :list=\"timeList\"\r\n            ></u-select>\r\n          </u-form-item>\r\n          <u-form-item required class=\"form-item\" prop=\"startDate\" :border-bottom=\"false\" label=\"开始时间\">\r\n            <u-input\r\n              type=\"select\"\r\n              @click=\"openTimePicker('start')\"\r\n              placeholder=\"请选择开始时间\"\r\n              v-model=\"form.startDate\"\r\n            />\r\n          </u-form-item>\r\n        </view>\r\n\r\n        <view class=\"form-item_box basebox\">\r\n          <view class=\"form-item_box_head head\">\r\n            <span class=\"form-item_box_head_text\">身份证：</span>\r\n          </view>\r\n          <view class=\"form-item_box_body\">\r\n            <u-form-item\r\n              v-if=\"type == 1\"\r\n              label-position=\"top\"\r\n              prop=\"\"\r\n              :label-style=\"labelStyle\"\r\n              :border-bottom=\"false\"\r\n              label=\" \"\r\n            >\r\n              <u-image v-for=\"item in form.idPhoto\" :src=\"item.imageUrl\" width=\"181\" height=\"181\"> </u-image>\r\n              <!-- <text v-if=\"form.idPhoto && form.idPhoto.length === 0\">暂无</text> -->\r\n            </u-form-item>\r\n            <u-form-item v-else label-position=\"top\" prop=\"\" :label-style=\"labelStyle\" :border-bottom=\"false\" label=\" \">\r\n              <u-upload\r\n                width=\"181\"\r\n                height=\"181\"\r\n                :max-size=\"1 * 1024 * 1024\"\r\n                class=\"upload\"\r\n                max-count=\"2\"\r\n                :custom-btn=\"true\"\r\n                :file-list=\"form.idPhoto\"\r\n                upload-text=\"\"\r\n                ref=\"uUpload\"\r\n                :action=\"action\"\r\n                @on-list-change=\"idPhotolistChange\"\r\n                @on-success=\"idPhotoUploadSuccess\"\r\n                :auto-upload=\"true\"\r\n              >\r\n                <view slot=\"addBtn\">\r\n                  <u-image\r\n                    src=\"https://file.yuanzhoulvwego.com/prod/uploadFiles/home/repair/shangchuangtupian.png\"\r\n                    width=\"181\"\r\n                    height=\"181\"\r\n                  >\r\n                  </u-image>\r\n                </view>\r\n              </u-upload>\r\n            </u-form-item>\r\n          </view>\r\n        </view>\r\n        <view class=\"form-item_box basebox\">\r\n          <view class=\"form-item_box_head head\">\r\n            <span class=\"form-item_box_head_text\">驾驶证：</span>\r\n          </view>\r\n          <view class=\"form-item_box_body\">\r\n            <u-form-item\r\n              v-if=\"type == 1\"\r\n              label-position=\"top\"\r\n              prop=\"\"\r\n              :label-style=\"labelStyle\"\r\n              :border-bottom=\"false\"\r\n              label=\" \"\r\n            >\r\n              <u-image v-for=\"item in form.driverPhoto\" :src=\"item.imageUrl\" width=\"181\" height=\"181\"> </u-image>\r\n              <!-- <text v-if=\"form.driverPhoto && form.driverPhoto.length === 0\">暂无</text> -->\r\n            </u-form-item>\r\n            <u-form-item v-else label-position=\"top\" prop=\"\" :label-style=\"labelStyle\" :border-bottom=\"false\" label=\" \">\r\n              <u-upload\r\n                width=\"181\"\r\n                height=\"181\"\r\n                :max-size=\"1 * 1024 * 1024\"\r\n                class=\"upload\"\r\n                max-count=\"2\"\r\n                :custom-btn=\"true\"\r\n                :file-list=\"form.driverPhoto\"\r\n                upload-text=\"\"\r\n                ref=\"uUpload\"\r\n                :action=\"action\"\r\n                @on-list-change=\"driverPhotolistChange\"\r\n                @on-success=\"driverPhotoUploadSuccess\"\r\n                :auto-upload=\"true\"\r\n              >\r\n                <view slot=\"addBtn\">\r\n                  <u-image\r\n                    src=\"https://file.yuanzhoulvwego.com/prod/uploadFiles/home/repair/shangchuangtupian.png\"\r\n                    width=\"181\"\r\n                    height=\"181\"\r\n                  >\r\n                  </u-image>\r\n                </view>\r\n              </u-upload>\r\n            </u-form-item>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"title\"> 备注 </view>\r\n        <view class=\"form-item_box\">\r\n          <u-form-item label-position=\"top\" :border-bottom=\"false\" label=\" \">\r\n            <my-textarea :value.sync=\"form.remark\"></my-textarea>\r\n          </u-form-item>\r\n        </view>\r\n      </u-form>\r\n    </view>\r\n    <view class=\"btn_box\">\r\n      <u-button class=\"btn_box_button\" @click=\"onSubmit\" type=\"primary\" shape=\"circle\"> 提交 </u-button>\r\n    </view>\r\n    <!--房间列表选择 -->\r\n    <u-select\r\n      @confirm=\"confirm\"\r\n      value-name=\"value\"\r\n      label-name=\"label\"\r\n      mode=\"mutil-column-auto\"\r\n      v-model=\"roomIdSelect\"\r\n      :list=\"roomIdSelectList\"\r\n    >\r\n    </u-select>\r\n    <!-- 时间选择 -->\r\n    <u-picker @confirm=\"confirm\" mode=\"time\" v-model=\"timePicker\" :params=\"timeParams\"></u-picker>\r\n    <!-- 成功框 -->\r\n    <u-modal\r\n      v-model=\"showModel\"\r\n      title=\"\"\r\n      confirm-text=\"我知道了\"\r\n      :content-style=\"{ textAlign: 'center' }\"\r\n      @confirm=\"knowConfirm\"\r\n    >\r\n      <view class=\"slot-content\">\r\n        <u-image\r\n          class=\"model-image\"\r\n          width=\"125upx\"\r\n          height=\"125upx\"\r\n          shape=\"circle\"\r\n          :src=\"'https://file.yuanzhoulvwego.com/prod/uploadFiles/home/employeeManagement/tijiao.png'\"\r\n        >\r\n          <u-loading slot=\"loading\"></u-loading>\r\n          <view slot=\"error\" style=\"font-size: 24upx\">加载失败</view>\r\n        </u-image>\r\n        <view style=\"font-size: 34upx; margin: 22upx 0 42upx\">信息提交成功</view>\r\n      </view>\r\n    </u-modal>\r\n    <u-toast ref=\"uToast\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport myTextarea from \"@/sub-package2/components/my-textarea/my-textarea.vue\"\r\n\r\nexport default {\r\n  components: {\r\n    myTextarea,\r\n  },\r\n  data() {\r\n    return {\r\n      id: 0,\r\n      // 当前租户id\r\n      enterpriseId: uni.getStorageSync(\"userInfo\").enterpriseId,\r\n      userId: uni.getStorageSync(\"userInfo\").id,\r\n      // 表单\r\n      form: {\r\n        personnelAccess: \"\",\r\n        licensePlateNumber: \"\",\r\n        remark: \"\",\r\n      },\r\n      // 权限选择后的卡号\r\n      cardList: [],\r\n      // 0为啥申请月卡 1为月卡延期\r\n      type: 0,\r\n      //房间列表下拉框标识\r\n      roomIdSelect: false,\r\n      // 时间选择框标识\r\n      timePicker: false,\r\n      // 成功框标识\r\n      showModel: false,\r\n      //车牌键盘\r\n      licensePlateNumberStatus: false,\r\n      //办理时长\r\n      processingTimeStattus: false,\r\n      //办理时长中文\r\n      processingTimename: \"\",\r\n      // 是开始时间0还是结束时间1\r\n      timeType: 0,\r\n      // 房间列表\r\n      roomIdSelectList: [],\r\n      // 图片上传接口\r\n      action: \"/image/web/add\",\r\n      // 时间框的所需\r\n      timeParams: {\r\n        year: true,\r\n        month: true,\r\n        day: true,\r\n        hour: true,\r\n        minute: true,\r\n        second: true,\r\n      },\r\n      timeList: [\r\n        // {\r\n        // \tlabel: '1月',\r\n        // \tvalue: 1\r\n        // },\r\n        // {\r\n        // \tlabel: '2月',\r\n        // \tvalue: 2\r\n        // },\r\n        {\r\n          label: \"3月\",\r\n          value: 3,\r\n        },\r\n        {\r\n          label: \"4月\",\r\n          value: 4,\r\n        },\r\n        {\r\n          label: \"5月\",\r\n          value: 5,\r\n        },\r\n        {\r\n          label: \"6月\",\r\n          value: 6,\r\n        },\r\n        {\r\n          label: \"7月\",\r\n          value: 7,\r\n        },\r\n        {\r\n          label: \"8月\",\r\n          value: 8,\r\n        },\r\n        {\r\n          label: \"9月\",\r\n          value: 9,\r\n        },\r\n        {\r\n          label: \"10月\",\r\n          value: 10,\r\n        },\r\n        {\r\n          label: \"11月\",\r\n          value: 11,\r\n        },\r\n        {\r\n          label: \"12月\",\r\n          value: 12,\r\n        },\r\n      ],\r\n\r\n      // 图片上传的标题样式\r\n      labelStyle: {\r\n        fontSize: \"34upx\",\r\n        fontWeight: \"bold\",\r\n        color: \"#333333\",\r\n      }, // 规则licensePlateNumber\r\n      rules: {\r\n        roleName: [\r\n          {\r\n            required: true,\r\n            message: \"请选择所属部门\",\r\n            trigger: [\"change\"],\r\n          },\r\n        ],\r\n        personnelAccess: [\r\n          {\r\n            required: true,\r\n            message: \"请选择权限\",\r\n            trigger: [\"change\"],\r\n          },\r\n        ],\r\n        startDate: [\r\n          {\r\n            required: true,\r\n            message: \"请选择开始时间\",\r\n            trigger: [\"change\"],\r\n          },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (!this.form.accEndDateTime) {\r\n                return true\r\n              }\r\n              return this.$tools.compareDateTime(value, this.form.accEndDateTime)\r\n            },\r\n            message: \"开始时间不能大于结束\",\r\n            trigger: [\"change\", \"blur\"],\r\n          },\r\n        ],\r\n        accEndDateTime: [\r\n          {\r\n            required: true,\r\n            message: \"请选择结束时间\",\r\n            trigger: [\"change\"],\r\n          },\r\n          {\r\n            validator: (rule, value, callback) => {\r\n              if (!this.form.startDate) {\r\n                return true\r\n              }\r\n              return this.$tools.compareDateTime(this.form.startDate, value)\r\n            },\r\n            message: \"开始时间不能大于结束\",\r\n            trigger: [\"change\", \"blur\"],\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  onReady() {\r\n    this.$refs.uForm.setRules(this.rules)\r\n  },\r\n  onLoad() {\r\n    console.log(this.$Route.query.type)\r\n    this.type = this.$Route.query.type\r\n    let userInfo = uni.getStorageSync(\"userInfo\")\r\n    this.form.phone = userInfo.phone\r\n    this.form.userName = userInfo.userName\r\n    this.form.licensePlateNumber = \"\"\r\n    this.form.remark = \"\"\r\n    this.form.idPhoto = []\r\n    this.form.driverPhoto = []\r\n    this.getDepartmentAll()\r\n  },\r\n  methods: {\r\n    infoData() {\r\n      if (this.type === 1) {\r\n        this.id = this.$Route.query.id\r\n        this.$api(\"monthCard.parkUserInfoGetById\", { id: this.id }).then((res) => {\r\n          console.log(res)\r\n          if (res.code == 200) {\r\n            this.form.phone = res.data.phone\r\n            this.form.userName = res.data.userName\r\n            this.form.licensePlateNumber = res.data.licensePlateNumber\r\n            // this.form.phone =  res.data.phone\r\n            // this.dataInfo = res.data\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 房间列表\r\n    getDepartmentAll() {\r\n      this.$api(\"monthCard.jgRoomInfoGetRoomListByEnterpriseId\", {\r\n        enterpriseId: this.enterpriseId,\r\n      }).then((res) => {\r\n        if (res.code == 200) {\r\n          let arr = res.data\r\n          this.roomIdSelectList = []\r\n          arr.forEach((item) => {\r\n            this.roomIdSelectList.push({\r\n              label: item.room.name,\r\n              value: item.room.id,\r\n            })\r\n          })\r\n          console.log(this.roomIdSelectList)\r\n        }\r\n      })\r\n    },\r\n    //办理时长选择\r\n    bindPickerChange: function (e) {\r\n      console.log(\"picker发送选择改变，携带值为\", e.detail.value)\r\n      this.index = e.detail.value\r\n    },\r\n    // 提交表单\r\n    onSubmit() {\r\n      this.$refs.uForm.validate((valid) => {\r\n        this.form.endDate = this.commonAddMouth(this.form.startDate, this.form.processingTime, 1)\r\n        if (valid) {\r\n          let params = {\r\n            enterpriseId: this.enterpriseId,\r\n            userName: this.form.userName,\r\n            type: this.type,\r\n            userId: this.userId,\r\n            licensePlateNumber: this.form.licensePlateNumber,\r\n            processingTime: this.form.processingTime,\r\n            phone: this.form.phone,\r\n            driverPhoto: this.form.driverPhoto,\r\n            idPhoto: this.form.idPhoto,\r\n            roomId: this.form.roomId,\r\n            startDate: this.form.startDate,\r\n            endDate: this.form.endDate,\r\n            remark: this.form.remark,\r\n          }\r\n          console.log(params)\r\n          this.$api(\"monthCard.parkUserInfoAdd\", params).then((res) => {\r\n            console.log(res)\r\n            if (res.code === 200) {\r\n              // this.showModel = true\r\n              this.$Router.push({\r\n                path: \"/sub-package2/pages/home/payParking/progressTrial\",\r\n                query: {\r\n                  id: res.data,\r\n                },\r\n              })\r\n            } else {\r\n              // console.log(res)\r\n              this.$refs.uToast.show({\r\n                title: res.msg,\r\n                type: \"error\",\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          console.log(\"验证失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n    //车牌键盘输入事件\r\n    licensePlateNumberChange(val) {\r\n      this.form.licensePlateNumber += val\r\n      console.log(this.form.licensePlateNumber, val)\r\n    },\r\n    licensePlateNumberChange2(val) {\r\n      console.log(this.form.licensePlateNumber, val)\r\n    },\r\n    //车牌键盘删除\r\n    licensePlateNumberbackspace() {\r\n      if (this.form.licensePlateNumber.length)\r\n        this.form.licensePlateNumber = this.form.licensePlateNumber.substr(0, this.form.licensePlateNumber.length - 1)\r\n    },\r\n    // 图片列表改变\r\n    idPhotolistChange(lists, name) {\r\n      // this.form.idPhoto = []\r\n      // console.log(lists)\r\n      // if(lists.length>0){\r\n      // \tlists.forEach(item => {\r\n      // \t\tthis.form.idPhoto.push(item.response.data)\r\n      // \t})\r\n      // }\r\n    },\r\n    // 图片上传成功\r\n    idPhotoUploadSuccess(data, index, lists, name) {\r\n      console.log(lists)\r\n      if (data.code == 200) {\r\n        this.form.idPhoto = []\r\n        lists.forEach((item) => {\r\n          console.log(item.response.data)\r\n          this.form.idPhoto.push(item.response.data)\r\n        })\r\n      }\r\n    },\r\n    // 图片列表改变\r\n    driverPhotolistChange(lists, name) {\r\n      // this.form.driverPhoto = []\r\n      // lists.forEach(item => {\r\n      // \tthis.form.driverPhoto.push(item.response.data)\r\n      // })\r\n      // this.form.driverPhoto = lists\r\n    },\r\n    // 图片上传成功\r\n    driverPhotoUploadSuccess(data, index, lists, name) {\r\n      if (data.code == 200) {\r\n        this.form.driverPhoto = []\r\n        lists.forEach((item) => {\r\n          this.form.driverPhoto.push(item.response.data)\r\n        })\r\n      }\r\n    },\r\n\r\n    // 打开时间选择框\r\n    openTimePicker(type) {\r\n      this.timePicker = true\r\n      if (type === \"start\") this.timeType = 0\r\n      else this.timeType = 1\r\n    },\r\n\r\n    // 下拉框选择之后，数据赋值\r\n    confirm(e) {\r\n      console.log(this.roomIdSelect)\r\n      if (this.roomIdSelect) {\r\n        console.log(e)\r\n        this.form.roomId = e[0].value\r\n        this.form.roleName = e[0].label\r\n      }\r\n      if (this.processingTimeStattus) {\r\n        console.log(e)\r\n        this.form.processingTime = e[0].value\r\n        this.processingTimename = e[0].label\r\n      }\r\n      if (this.timePicker) {\r\n        let times = e.year + \"-\" + e.month + \"-\" + e.day + \" \" + e.hour + \":\" + e.minute + \":\" + e.second\r\n        if (this.timeType) this.form.accEndDateTime = times\r\n        else this.form.startDate = times\r\n      }\r\n    },\r\n    // 提交后的弹窗 确认按钮 如果是编辑，就是修改后的表单； 新增，表单重置\r\n    knowConfirm() {\r\n      this.form = {\r\n        personnelAccess: \"\",\r\n      }\r\n      uni.navigateBack()\r\n    },\r\n\r\n    /**\r\n     * 当前日期增加n月\r\n     * @param dateStr 当前日期\r\n     * @param num 月\r\n     * @param type 0:2022-05-30   1：2022-05-30 11:11:11\r\n     * @returns {string}\r\n     */\r\n    commonAddMouth(dateStr, num, type) {\r\n      var monthnum = 0\r\n      if (typeof num == \"string\") {\r\n        monthnum = parseInt(num)\r\n      } else {\r\n        monthnum = num\r\n      }\r\n      var date = new Date(dateStr)\r\n      //获取原日\r\n      var day = date.getDate()\r\n      //获取原月份\r\n      var month = date.getMonth()\r\n      //设置增加月份\r\n      date.setMonth(date.getMonth() + monthnum * 1, 1)\r\n      //获取增加的后的月份\r\n      var Jmonth = date.getMonth() + 1\r\n      //获取增加的后的年份\r\n      var Jyear = date.getFullYear()\r\n      if (Jmonth == 4 || Jmonth == 6 || Jmonth == 9 || Jmonth == 11) {\r\n        //小月\r\n        if (day > 30) {\r\n          day = 30\r\n        }\r\n      } else if (Jmonth == 2) {\r\n        //2月判断是否闰年\r\n        if ((Jyear % 4 == 0 && Jyear % 100 != 0) || Jyear % 400 == 0) {\r\n          if (day > 29) {\r\n            day = 29\r\n          } else {\r\n            day = 28\r\n          }\r\n        }\r\n        if (day > 28) {\r\n          day = 28\r\n        }\r\n      } else {\r\n        //大月\r\n        if (day > 31) {\r\n          day = 31\r\n        }\r\n      }\r\n      var tHours = date.getHours()\r\n      var tMinutes = date.getMinutes()\r\n      var tSeconds = date.getSeconds()\r\n      Jmonth = this.doHandleMonth(Jmonth)\r\n      day = this.doHandleMonth(day)\r\n      if (type == \"0\") {\r\n        return Jyear + \"-\" + Jmonth + \"-\" + day\r\n      }\r\n      return Jyear + \"-\" + Jmonth + \"-\" + day + \" \" + tHours + \":\" + tMinutes + \":\" + tSeconds\r\n    },\r\n    doHandleMonth(month) {\r\n      var m = month\r\n      if (month.toString().length == 1) {\r\n        m = \"0\" + month\r\n      }\r\n      return m\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.body {\r\n  .content {\r\n    background: #ffffff;\r\n    margin-top: 6upx;\r\n\r\n    .form-item_box {\r\n      padding: 0 15upx;\r\n\r\n      .form-item {\r\n        position: relative;\r\n\r\n        &:before {\r\n          content: \"\";\r\n          position: absolute;\r\n          bottom: 0;\r\n          right: 40upx;\r\n          height: 2upx;\r\n          width: calc(100% - 180upx);\r\n          background-color: #dddddd;\r\n        }\r\n      }\r\n\r\n      .form-item_box_head {\r\n        height: 34upx;\r\n        font-weight: bold;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n\r\n        .form-item_box_head_text {\r\n          font-size: 34upx;\r\n          margin-left: 6upx;\r\n        }\r\n      }\r\n\r\n      .form-item_box_body {\r\n        margin-left: 16upx;\r\n\r\n        .form-item {\r\n          position: relative;\r\n\r\n          &:before {\r\n            content: \"\";\r\n            position: absolute;\r\n            bottom: 0;\r\n            right: 40upx;\r\n            height: 2upx;\r\n            width: calc(100% - 180upx);\r\n            background-color: #dddddd;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .title {\r\n      padding: 40upx 0 0 20upx;\r\n      font-size: 34upx;\r\n      color: #333333;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .btn_box {\r\n    height: 98upx;\r\n    position: fixed;\r\n    width: 100%;\r\n    bottom: 0px;\r\n    background-color: white;\r\n    padding: 0 64upx;\r\n\r\n    .btn_box_button {\r\n      position: relative;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n  }\r\n\r\n  .model-image {\r\n    position: relative;\r\n    left: 50%;\r\n    transform: translate(-50%, 0px);\r\n  }\r\n}\r\n\r\n.u-form-item {\r\n  padding: 10upx 0;\r\n}\r\n\r\n.basebox {\r\n  display: flex;\r\n\r\n  .head {\r\n    width: 150upx;\r\n    padding-top: 100upx;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./monthlyCardProcessing.vue?vue&type=style&index=0&id=7581880e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../常用软件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./monthlyCardProcessing.vue?vue&type=style&index=0&id=7581880e&lang=scss&scoped=true&\""],"sourceRoot":""}